<!doctype html>
<html lang="en" x-ng-app="doxdbApp">
<head>
<meta charset="UTF-8">
<script
	src="webjars/angular/1.4.3/angular.min.js"></script>
<script
	src="webjars/angular-resource/1.4.3/angular-resource.min.js"></script>
<script src="angular-app.js"></script>
<script src="search.js"></script>
<link rel="stylesheet" href="styles.css">
</head>
<body class="ng-cloak">
	<div x-ng-controller="DoxDbController as doxdb">

		<h1>data entry</h1>
		<select x-ng-options="item.name for item in doxdb.venues"
			x-ng-model="doxdb.venue">
			<option value="">--new--</option>
		</select>

		<form x-ng-submit="doxdb.addTodo()">
			<p>
				<input type="text" x-ng-model="doxdb.venue.name" size="30"
					placeholder="Name">
			</p>
			<p>
				<input type="text" x-ng-model="doxdb.venue.language" size="30"
					placeholder="Language">
			</p>
			<button x-ng-click="doxdb.saveVenue()">save</button>
			<button x-ng-click="doxdb.deleteVenue()">delete</button>
		</form>
		<pre>{{doxdb.venue | json}}</pre>
	</div>
	<div x-ng-controller="SearchController as search">

		<h1>search</h1>
		<p>
			<input type="search" x-ng-model="search.query" size="30"
				placeholder="Search query" x-ng-change="search.doSearch()">
		</p>
		<pre>{{search.result| json}}</pre>
		<button x-ng-click="search.reindex()">reindex</button>
	</div>
</body>
</html>